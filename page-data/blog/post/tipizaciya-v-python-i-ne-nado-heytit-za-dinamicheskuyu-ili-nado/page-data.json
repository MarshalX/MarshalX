{"componentChunkName":"component---src-templates-post-jsx","path":"/blog/post/tipizaciya-v-python-i-ne-nado-heytit-za-dinamicheskuyu-ili-nado","result":{"data":{"prismicPost":{"id":"Prismic__Post__Xm5soREAACMAB9gS","uid":"tipizaciya-v-python-i-ne-nado-heytit-za-dinamicheskuyu-ili-nado","first_publication_date":"2020-03-15T17:57:56+0000","last_publication_date":"2020-03-15T18:39:01+0000","data":{"title":{"text":"Типизация в Python и не надо хейтить за динамическую (или надо)"},"description":"Чтобы разобраться чё там у Python'a, надо понять что есть вообще, чем отличается и т.д. и т.п.\nТип - множество значений и операций над этими значениями (пасиба вики).\nКак знает большинство, бывает статическая и динамическай типизация. А чё-нить ещё знает большинство или только зная это уже хейтит?\nСтатическая/динамическая, сильная/слабая, явная/неявная.","date":"24.02.2020","categories":[{"category":{"document":[{"id":"Prismic__Category__Xm4I9BEAACMABh0C","uid":"pro-python","data":{"name":"Про Python"}}]}}],"body":[{"__typename":"PrismicPostBodyText","slice_type":"text","id":"Prismic__PostBodyText__Prismic__Post__Xm5soREAACMAB9gS__body__0","primary":{"text":{"html":"<p>Чтобы разобраться чё там у <em>Python&#39;a</em>, надо понять что есть вообще, чем отличается и т.д. и т.п.</p><p>Тип - множество значений и операций над этими значениями (пасиба вики).</p><p>Как знает большинство, бывает статическая и динамическай типизация. А чё-нить ещё знает большинство или только зная это уже хейтит?</p><p><strong>Статическая/динамическая, сильная/слабая, явная/неявная. </strong></p><p>Максимально быстро по каждому, а то прошлый пост большим вышел.</p><ol><li><strong>Статическая</strong> - типы устанавливаются на этапе компиляции, <strong>динамическая</strong> - в рантайме.</li><li><strong>Сильная</strong> - отсутствие автоматических кастов в другой тип (неявных преборазований). <strong>Слабая</strong> - наличие таковых.</li><li><strong>Явная</strong> - указываем типы везде ручками. <strong>Неявная</strong> - компилятор/интерпретатор занимается этим сам.</li></ol><p>Теперь мы знаем что есть и давайте сравним <em>JavaScript</em> и <em>Python</em>. </p><ul><li><em>JavaScript</em> - динамическая <strong>слабая</strong> неявная.</li><li><em>Python</em> - динамическая <strong>сильная</strong> неявная.</li></ul><p>Вот как раз в сильной типизации вся сила, как бы это не звучало. <em>Python</em> старается предупреждать о всякой диче, что может произойти, например, по ошибке программиста. Он не даст вам сложить <em>str</em> с <em>int</em>, а вот <em>JavaScript</em> сделает всё возможное, чтобы ваше желание было исполнено. </p><p>Давайте глянем на плюсы и минусы между типизацией<em> Python&#39;a</em> и полной противоположностью - статической слабой явной (не знаю есть ли ЯП с такой).</p><p>Плюсы:</p><ul><li>можем мешать типы данных в пределах одной коллекции;</li><li>пишем универсальные методы (алги) готовые работать с чем угодно (пока перегрузкам и т.д.);</li><li>благодаря сильной типизации имеем надежность, понимание что вообще происходит и отсутствие замедлений всякими кастами;</li><li>к плюсам неявности сокращение записи что ль.</li></ul><p>Минусы:</p><ul><li>теряем скорость;</li><li>теряем подсказки <em>IDE</em> и подсказки по поводу ошибок (привет <em>Python</em> аннотации которые это фиксят);</li><li>местами теряем краткость записи из-за необходимости кастовать руками;</li><li>теряем сигнатуры методов, посмотрев на которые можно понять что передавать (аннотации вновь спасают).</li></ul><p>По поводу неявных преобразований в <em>Python&#39;e</em>, то можно смело сказать, что они есть. Дело в том, что тут нет одной стороны. Типо кастим хоть куда, только бы сложить (<em>JS</em>), или не кастим вообще и всегда кидаем исключение. <em>Python</em> старается быть умным. Если есть два типа и операция сложения между ними вполне логична, ясна и понятна - давай сделаем это. </p><p>Примером может быть int + float: <code class=\"language-python\"><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">1.1</span> <span class=\"token operator\">=</span> <span class=\"token number\">2.1</span></code></p><p>А пример исключения: <code class=\"language-javascript\"><span class=\"token string\">\"daa\"</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span></code> (в <em>JS</em> выполнится, будет строка <code class=\"language-javascript\"><span class=\"token string\">\"daa1\"</span></code>)</p><p>Что мне дико не нравится, так это потеря данных при неявных кастах. Но всё нужно уметь варить (в <em>JS</em> я пока просто использую <strong>===</strong> и <strong>!==</strong> на всякий)! Тут же и про то, что лучше начинать изучать прогу не с динамического языка (ибо не будет понимания). Всё относительно. Сам я начал свой путь с пасика в 5 классе, спустя несколько лет ушёл на динамическую типизацию слабую и даже не догадывался про тройное равно. Сейчас не ощущаю каких-либо проблем в понимании.</p><p>В прошлом посте я рассказал про то, что одна из причин медленности <em>Python&#39;a</em> - отсутствие <em>JIT&#39;a</em>. А вторая - динамическая типизация, НО, не конкретно она сама, а то, как архитектура языка усложняет оптимизацию! И всё по старой причине - <em>Python</em> пытается быть всем и вся. Он дико гибок, за счёт этого оптимайзить сложно, а проверка типов осуществляется при каждом доступе к переменной! </p><p>Говоря про реализации <em>Python&#39;a </em>я упомянул <em>Cython</em>, но не сказал что это. А всё очень просто. Это <em>Python</em> с статической типизацией.</p>"}}},{"__typename":"PrismicPostBodyImage","slice_type":"image","id":"Prismic__PostBodyImage__Prismic__Post__Xm5soREAACMAB9gS__body__1","primary":{"image":{"localFile":{"id":"28a11345-300c-5156-90a3-62210e635422","childImageSharp":{"id":"b41896b3-ce0e-53b9-af8f-68cc7688b680","fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAenRJUaA/8QAGhABAAMAAwAAAAAAAAAAAAAAAQACAxEhIv/aAAgBAQABBQJ1ChbzHI5Don//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAABBAMAAAAAAAAAAAAAAAABAAIQIRFhYv/aAAgBAQAGPwJ/KBh5zbqQ1H//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMWGB/9oACAEBAAE/IVHbSchouIMG5tbTwfICBhiCp//aAAwDAQACAAMAAAAQkw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEAAgICAwAAAAAAAAAAAAABESEAMUFRYXHw/9oACAEBAAE/ECGOKCWvucJhhi+TLVaY94pxGFMD3K2t5ViDSNHGKUk3UZ//2Q==","aspectRatio":1.3498312710911136,"src":"/static/f346af168a50cf44bb1146e59d376a4b/b4fce/262ba26b-7867-4d87-a33c-149a8e662639_photo_2020-02-24_23-39-46.jpg","srcSet":"/static/f346af168a50cf44bb1146e59d376a4b/42007/262ba26b-7867-4d87-a33c-149a8e662639_photo_2020-02-24_23-39-46.jpg 153w,\n/static/f346af168a50cf44bb1146e59d376a4b/0a4bb/262ba26b-7867-4d87-a33c-149a8e662639_photo_2020-02-24_23-39-46.jpg 304w,\n/static/f346af168a50cf44bb1146e59d376a4b/b4fce/262ba26b-7867-4d87-a33c-149a8e662639_photo_2020-02-24_23-39-46.jpg 607w,\n/static/f346af168a50cf44bb1146e59d376a4b/fab03/262ba26b-7867-4d87-a33c-149a8e662639_photo_2020-02-24_23-39-46.jpg 911w,\n/static/f346af168a50cf44bb1146e59d376a4b/7ca68/262ba26b-7867-4d87-a33c-149a8e662639_photo_2020-02-24_23-39-46.jpg 1200w","sizes":"(max-width: 607px) 100vw, 607px","presentationWidth":607}}}}}}]}},"posts":{"nodes":[{"id":"Prismic__Post__ZYgWYhAAACYAKMp2","uid":"2023","data":{"title":{"text":"Итоги Года 2023"},"date":"31.12.2023","categories":[{"category":{"document":[{"id":"Prismic__Category__Y635ZxAAACQAwo9V","uid":"results-of-the-year","data":{"name":"Итоги Года"}}]}}]}},{"id":"Prismic__Post__Y62KDBAAACYAwfBO","uid":"2022","data":{"title":{"text":"Итоги Года 2022"},"date":"31.12.2022","categories":[{"category":{"document":[{"id":"Prismic__Category__Y635ZxAAACQAwo9V","uid":"results-of-the-year","data":{"name":"Итоги Года"}}]}}]}},{"id":"Prismic__Post__Y639RhAAACMAwpTU","uid":"2021","data":{"title":{"text":"Итоги Года 2021"},"date":"31.12.2021","categories":[{"category":{"document":[{"id":"Prismic__Category__Y635ZxAAACQAwo9V","uid":"results-of-the-year","data":{"name":"Итоги Года"}}]}}]}},{"id":"Prismic__Post__Y64jWxAAACQAwssK","uid":"2020","data":{"title":{"text":"Итоги Года 2020"},"date":"31.12.2020","categories":[{"category":{"document":[{"id":"Prismic__Category__Y635ZxAAACQAwo9V","uid":"results-of-the-year","data":{"name":"Итоги Года"}}]}}]}}]}},"pageContext":{"uid":"tipizaciya-v-python-i-ne-nado-heytit-za-dinamicheskuyu-ili-nado"}}}
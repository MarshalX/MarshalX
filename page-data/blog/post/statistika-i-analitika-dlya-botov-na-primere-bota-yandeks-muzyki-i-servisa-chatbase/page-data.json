{"componentChunkName":"component---src-templates-post-jsx","path":"/blog/post/statistika-i-analitika-dlya-botov-na-primere-bota-yandeks-muzyki-i-servisa-chatbase","result":{"data":{"prismicPost":{"id":"Prismic__Post__XokvOBAAACIArbCH","uid":"statistika-i-analitika-dlya-botov-na-primere-bota-yandeks-muzyki-i-servisa-chatbase","first_publication_date":"2020-04-05T01:07:06+0000","last_publication_date":"2020-04-05T01:07:06+0000","data":{"title":{"text":"Статистика и аналитика для ботов на примере бота Яндекс.Музыки и сервиса Chatbase"},"description":"Пару слов о сервисе. В далёком 2017 году компашка людей из гугла запилила сервис для ботов с ИИ. Гугл взяла их под крылышко и сервис считается гугловым.\n\nСам сервис заточен конкретно на ботов, которые на нейронках генерят ответы пользователю. Собсна название говорит само за себя, однако! Однако еще в 2017 году я начал использовать его как аналитику для обычных ботов. Тогда выбор был не очень большой. Был Botan.io (эдакий мост между яндекс аппметрикой и ботами, раньше я использовал его, сейчас проект мёртв). К сожалению и chatbase не развивается, застрял в 17 году. Пытается выглядеть законченным продуктом.","date":"05.01.2020","categories":[{"category":{"document":[{"id":"Prismic__Category__Xm56eREAACMACBYT","uid":"poznavatelno","data":{"name":"Познавательно"}}]}}],"body":[{"__typename":"PrismicPostBodyText","slice_type":"text","id":"Prismic__PostBodyText__Prismic__Post__XokvOBAAACIArbCH__body__0","primary":{"text":{"html":"<p>Пару слов о сервисе. В далёком 2017 году компашка людей из гугла запилила сервис для ботов с ИИ. Гугл взяла их под крылышко и сервис считается гугловым.</p><p>Сам сервис заточен конкретно на ботов, которые на нейронках генерят ответы пользователю. Собсна название говорит само за себя, однако! Однако еще в 2017 году я начал использовать его как аналитику для обычных ботов. Тогда выбор был не очень большой. Был Botan.io (эдакий мост между яндекс аппметрикой и ботами, раньше я использовал его, сейчас проект мёртв). К сожалению и chatbase не развивается, застрял в 17 году. Пытается выглядеть законченным продуктом.</p><p>Перейдём к его использованию. Быстро пробегусь по тому, что у нас есть. </p><p><strong>Платформа</strong>. Если ваш бот работает не только в <em>TG</em>, но и в других местах, можно легко отделять их друг от друга. Лично я живу только в TG, но использую эту возможность по максимуму. Я разделяю статистику пользователей из разных регионов. У некоторых пользователей бота доступно поле <em>language</em>. Поэтому платформы у меня <em>Telegram</em>, <em>Telegram-ru</em> и т.д.</p><p><strong>Версионность</strong>. Как и с платформой. Легко отделяем одну статистику от другой.</p><p><strong>Тип отправителя</strong>. Имеется агент и пользователь. При отправке сообщения юзеру шлём с типом агент, если юзер нам прислал - пользователь. Это построит нам целые переписки при анализе поведения пользователей.</p><p><strong>Намерение (Intents)</strong>. Изначально заточен для того, чтобы понять смысл сообщения пользователя. Например, что он с нами поздоровался. Я же использую как стейты того, что он сделал. Проще говоря, просто указываю имя хандлера, который обработал его сообщение. Указывать надо как при отправке сообщения юзера, так и бота, для связи этих двух сущностей.</p><p><strong>Not Handled</strong>. Можно передать с сообщением только с типом <em>user</em>. Сообщаем о том, что не поняли, что от нас хотят. Я использую как лог левых сообщений, на которых нет обработчиков (просто интересно). И как логирование ошибок.</p><p>Помимо всего этого конечно же мы указываем время, <em>ID</em> юзера. Я использую ID с телеги, а не из моей БД.</p><p>Стату можно собирать в пачу и отправлять одним запросом, что удобно (я ещё и в отдельных потоках это делаю).</p><p><strong>Прикрутили отправку статы и получили следующее:</strong></p><p>Активность юзеров, посещения, уники, кол-во сессий, авг сессий на юзера, среднее время на сессию, лог ошибок. Все это с фильтрами по версиям, датам, платформам. </p><p>Фигня, да? Согласен.</p><p>Переходим к самому интересному:<strong> session flow</strong>. Мы видим как пользователи передвигаются по нашему боту! Мы видим всё дерево от начало общения до последнего действия! Видим узкие места в юзабилити, как именно пользователи осуществляют переход к тому, или иному меню. <strong>Мы видим как нашим ботом пользуются!</strong> Сколько и куда пошло, сколько отвалилось. При желании можем открыть диалог с конкретным пользователем и проанализировать действия.</p><p>Что-нибудь еще? Дааа!</p><p><strong>FUNNELS</strong></p><p>Это цепочки наших <em>Intents</em>, которые мы создаем сами. Например, дефолт цепочкой юзера может быть: <code class=\"language-text\">Меню -> Умные плейлисты -> Плейлист дня -> Скачать текущую страницу</code></p><p>Я создаю такие цепочки из отправленных Intents и потом отслеживаю уровень их достижимости. Наблюдаю за тем, как люди поэтапно проходят по ней и сколько людей. Цепочкам можно задавать имена.</p><p><strong>ИТОГО</strong></p><p>Сервис пригоден для использования, всё красиво, современно, удобно. API простое и понятное, дока легка для понимания и полноценна. Правда, на сервисе как-то одиноко, складывается ощущение, что ты юзаешь что-то мёртвое... Я бы с удовольствием рассмотрел бы ещё другие варианты.</p><p>А что используете вы? ✨</p><p>UPD. Из пикчи сразу видно, что проблема с авторизацией, о которой я уже подробно писал, всё ещё есть</p><p>UPD2. Забыл рассказать о том, что не использую. Сервис ещё имеет трек ссылок. Т.е. если вы рассылаете линки, то можно оборачивать их через <em>chatbase</em> и смотреть переходы и т.д.</p>"}}},{"__typename":"PrismicPostBodyImage","slice_type":"image","id":"Prismic__PostBodyImage__Prismic__Post__XokvOBAAACIArbCH__body__1","primary":{"image":{"localFile":{"id":"cb3bd7c8-2923-5159-9d8d-8ede441fb740","childImageSharp":{"id":"fd8c4f83-2459-56b9-894b-dba199f7b3d0","fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVQoz11RyW4TQRScT+TIt3CGKzfEDQ4RUiSkwCEKmxQZsqCAjW1i2XHG07N0T+/9epmxI3HiTXyBSKVW66mqq+p1Znz6DxAH+KR9CqHv0s66eN5Ul6JV0jxfTt82RRe2yg+c7KEYETpUgk8zzk85Ncq+Km5eNnlw8axlM6XgnvBQjKPk0sH19PFslDM+5+ITrRlX55PxxXQCabuNuy70SPOhs/+KFUQVOkr5ZZ6/oyVVZiHldykwiKwajYCUa1M50C5sjGUQsr0hnjHt/qQ7QmoLEati7B+MfmSV4vpNuT5gBGw4rgt8Tmn3viGTur53jh1AvCrJ09VkTEoIPXcB58wFYpzUbirEVEqcY+wU+sEp9A5ShhmEcdWmPFlcP/p1+q0sduluz8DFpLR1Lh4V6yNKwMW5lGtrnU/SR+1jdlKT498zy/WctS+K1aKhuVRnotXGfybFa7ISwlzxFtNaF/bbxm3hL4Lvsty6jdIe0rgsny1/Lls+IpsnNxNm/bhtP7DaGPhK6y+cOuvR6UJy7HxY3Y6lzDDb8G+ha0hVjUb1aj0X4rC8Lbjs066PWzuU9xSGLTTOt3iBRLEsxL/8uBZr8NfKggAAAABJRU5ErkJggg==","aspectRatio":1.9559543230016314,"src":"/static/f74d1e2b8a87f6e5cc18c324b47dc08e/92346/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png","srcSet":"/static/f74d1e2b8a87f6e5cc18c324b47dc08e/5a635/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png 221w,\n/static/f74d1e2b8a87f6e5cc18c324b47dc08e/ebbd7/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png 440w,\n/static/f74d1e2b8a87f6e5cc18c324b47dc08e/92346/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png 880w,\n/static/f74d1e2b8a87f6e5cc18c324b47dc08e/8c563/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png 1199w","sizes":"(max-width: 880px) 100vw, 880px","presentationWidth":880}}}}}}]}},"posts":{"nodes":[{"id":"Prismic__Post__Z3AWEBEAACQAq0KX","uid":"2024","data":{"title":{"text":"Итоги Года 2024"},"date":"28.12.2024","categories":[{"category":{"document":[{"id":"Prismic__Category__Y635ZxAAACQAwo9V","uid":"results-of-the-year","data":{"name":"Итоги Года"}}]}}]}},{"id":"Prismic__Post__ZYgWYhAAACYAKMp2","uid":"2023","data":{"title":{"text":"Итоги Года 2023"},"date":"31.12.2023","categories":[{"category":{"document":[{"id":"Prismic__Category__Y635ZxAAACQAwo9V","uid":"results-of-the-year","data":{"name":"Итоги Года"}}]}}]}},{"id":"Prismic__Post__Y62KDBAAACYAwfBO","uid":"2022","data":{"title":{"text":"Итоги Года 2022"},"date":"31.12.2022","categories":[{"category":{"document":[{"id":"Prismic__Category__Y635ZxAAACQAwo9V","uid":"results-of-the-year","data":{"name":"Итоги Года"}}]}}]}},{"id":"Prismic__Post__Y639RhAAACMAwpTU","uid":"2021","data":{"title":{"text":"Итоги Года 2021"},"date":"31.12.2021","categories":[{"category":{"document":[{"id":"Prismic__Category__Y635ZxAAACQAwo9V","uid":"results-of-the-year","data":{"name":"Итоги Года"}}]}}]}}]}},"pageContext":{"uid":"statistika-i-analitika-dlya-botov-na-primere-bota-yandeks-muzyki-i-servisa-chatbase"}}}